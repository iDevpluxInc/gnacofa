{% extends "main/admin_base.html"%}
{% load static %}
{% block title%} Adminstrator - Member {% endblock%}
{% block admin %}
<section class="">
    <div class="flex flex-row">
        <div class="p-3 mt-3 ">
            <p class=" flex justify-center text-green-700 text-xl">Members in a Table form</p>
            <article>
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quam ex, quis amet deserunt id nisi, incidunt repudiandae ducimus fuga aut accusamus reprehenderit odio libero itaque impedit quas temporibus, et esse? Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit magni molestias distinctio nemo odit quidem doloremque delectus, necessitatibus officia excepturi. Voluptates unde nesciunt laboriosam eos sed voluptas excepturi quisquam consequuntur! Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi, at laboriosam nesciunt asperiores minima magnam rerum quasi, excepturi recusandae consequatur corrupti quidem repudiandae omnis voluptate dolor, accusamus tempora itaque fuga! Lorem ipsum dolor sit amet consectetur adipisicing elit. Eum laboriosam corrupti nisi repudiandae nam magni consectetur nulla iusto architecto recusandae iste quo dolor neque eveniet, quisquam in, excepturi maiores! Dicta. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Ipsa, fugit dignissimos voluptatibus quia atque commodi, laborum beatae ut nam deleniti eligendi odit illum error optio aliquid. Sed facilis optio rerum?
            </article>
            <div class="p-5 rounded-md">
                <div class="mb-2 flex flex-row">
                    <form method="POST" action="{% url 'member-view'%}">
                        {% csrf_token %}
                        <label for="search">Search: </label>

                        <input type="search" name="search" id="search" placeholder="Search by GFX number or year of birth" class=" rounded shadow-lg border" maxlength="10">

                        <button type="submit" class="rounded dark:bg-gray-700 hover:bg-gray-600 text-white p-2 w-38">Search</button>
                    </form>

                    <button type="button" class="rounded ml-10 dark:bg-gray-700 hover:bg-gray-600 text-white p-2 w-38"><a href="{% url 'member' %}">Add Member</a></button>

                    
                </div>
                <div class="p-2">
            
                    {% if search %}
                        <center>
                            <h2 class="text-left "> Your searched results are: </h2>
                        </center>

                        {{search}}
                        {% for member in member %}
                            {{member}}
                        {% endfor %}
                    {%else%}
                        
                    {% endif %}
                </div>
                <div class=" overflow-auto" style="height: 760px;">
                    <table class="w-full text-sm text-left text-black dark:text-black">
                        <thead class="text-xs text-green-700 uppercase bg-gray-50 dark:bg-green-700 dark:text-gray-400 sticky top-1">
                            <tr>
                                <th scope="col" class="px-6 py-3">ID</th>
                                <th scope="col" class="px-6 py-3">GFX Number</th>
                                <th scope="col" class="px-6 py-3">Region of Farmer</th>
                                <th scope="col" class="px-6 py-3">Society</th>
                                <th scope="col" class="px-6 py-3">Title</th>
                                <th scope="col" class="px-6 py-3">Full Name</th>
                                <th scope="col" class="px-6 py-3">Gender</th>
                                <th scope="col" class="px-6 py-3">Marital Status</th>
                                <th scope="col" class="px-6 py-3">Hometown</th>
                                <th scope="col" class="px-6 py-3">Number of Farms</th>
                                
                                <th scope="col" class="px-6 py-3">
                                    <span class="sr-only">Edit</span>
                                </th>
                                <th scope="col" class="px-6 py-3">
                                    <span class="sr-only">Edit</span>
                                </th>
                            </tr>
                        </thead>

                        {% for member in member %}
                        <tbody class="">
                            <tr class=" bg-yellow-50 border-b dark:border-gray-700">
                                <td class="px-6 py-4">{{member.id}}</td>
                                <th scope="row" class="px-6 py-4 font-medium text-gray-900 dark:text-blue-600 whitespace-nowrap">{{member.member_gfx}}</th>
                                <td class="px-6 py-4">{{member.region}}</td>
                                <td class="px-6 py-4">{{member.society}}</td>
                                <td class="px-6 py-4">{{member.title}}</td>
                                <td class="px-6 py-4">{{member.first_name}} {{member.middle_name}} {{member.last_name}}</td>
                                <td class="px-6 py-4">{{member.gender}}</td>
                                <td class="px-6 py-4">{{member.marriage_status}}</td>
                                <td class="px-6 py-4">{{member.hometown}}</td>
                                <td class="px-6 py-4">{{member.farm_size}}</td>
                                <td class="px-6 py-4 text-right">
                                    <a href="{% url 'edit-view' member.id %}" class="font-medium text-blue-600 dark:text-blue-500 hover:underline">Edit/View</a>
                                </td>
                                <td class="px-6 py-4 text-right">
                                    <a href="#" class="font-medium text-red-600 dark:text-red-500 hover:underline">Delete</a>
                                </td>
                            </tr>
                        </tbody>
                        {% endfor %}
                                    
                    </table>
                </div>    
            </div>
        </div>
    </div>
</section>
{%endblock%}